---
import type { CollectionTypes } from '@content/content.types';
import Snippet from '@core/components/snippet/snippet.astro';
import Docs from '@core/components/docs/docs.astro';
import Layout from '@core/layouts/layout.astro';
import WithSidebar from '@core/layouts/with-sidebar.astro';
import { ContentRoutes } from '@core/lib/routes';
import type { RouteName } from '@sidebar/default';

export async function getStaticPaths() {
    const paths = ContentRoutes.routeGroups.flatMap(group => 
        group.routes.map(route => ({
            params: {
                group: group.group,
                type: route.route 
            }
        }))
    );

    return paths
}
const { group, type } = Astro.params
---
<Layout >
    <main class="flex flex-col gap-16">
        <WithSidebar>
            <div
                class="flex-1 flex flex-col gap-16 max-w-full p-4"
                slot="content"
            >
                <div class="flex w-full flex-col gap-16">
                    <Docs className='w-3/4' collection={group as CollectionTypes} slug={type}></Docs> 
                </div>
            </div>
        </WithSidebar>
    </main>
</Layout>

<style>

</style>
